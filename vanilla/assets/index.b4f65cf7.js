var M=Object.defineProperty;var $=(o,e,n)=>e in o?M(o,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[e]=n;var E=(o,e,n)=>($(o,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const t of r)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const t={};return r.integrity&&(t.integrity=r.integrity),r.referrerpolicy&&(t.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?t.credentials="include":r.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(r){if(r.ep)return;r.ep=!0;const t=n(r);fetch(r.href,t)}})();const y=class{static subscribe(e,n,s){if(!this.subscriptions.has(e)){let r=function(t){y.subscriptions.get(e).forEach(i=>i(event))};this.subscriptions.set(e,new Map().set(n,s)),addEventListener(e,r);return}this.subscriptions.get(e).set(n,s)}static unsubscribe(e,n){var s;(s=this.subscriptions.get(e))==null||s.delete(n)}};let p=y;E(p,"subscriptions",new Map);function g(o,e=2){return o.toString(16).toUpperCase().padStart(e,"0")}const w=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"];new Array(256).fill("").map((o,e)=>`${w[e>>>4&15]}${w[e&15]}`);function C(o){let e=o;const n=Array();return[t=>{n.push(t)},t=>{e=t,n.forEach(i=>{i(e)})}]}async function L(o,e,n){const[s,r]=C(0);r(0);const t=16,i=21;o.setAttribute("class","flex flex-col w-min h-full bg-[rgb(30,30,30)] ring-1 ring-neutral-700 font-mono cursor-default select-none");const c=document.createElement("div");c.setAttribute("class","flex flex-row items-center border-b border-neutral-700");const l=document.createElement("div");l.setAttribute("class","flex flex-row items-center h-4 ml-1 w-[52px] mr-[11px]");const a=document.createElement("ul");a.setAttribute("class","flex flex-row justify-end space-x-[10px] mr-[6px] font-medium");for(let b=0;b<t;b++){const h=document.createElement("li");h.textContent=`0${b.toString(16)}`.slice(-2).toUpperCase(),a.appendChild(h)}c.appendChild(l),c.appendChild(a);const u=document.createElement("div");u.setAttribute("class","flex flex-row h-auto w-full");const f=document.createElement("div");O(f,e,n,t,s);const d=document.createElement("div");T(d,e.length/t,n,i,b=>{r(b)}),u.appendChild(f),u.appendChild(d);const m=document.createElement("div");m.setAttribute("class","w-full border-t bg-[rgb(30,30,30)] border-neutral-700");const x=document.createElement("code");s(b=>{x.textContent=`ScrollIndex: ${`00000${b}`.slice(-5)};`}),m.appendChild(x),o.appendChild(c),o.appendChild(u),o.appendChild(m),r(0)}function O(o,e,n,s,r){o.setAttribute("class","flex flex-row w-max h-full bg-neutral-800");const t=document.createElement("ul");t.setAttribute("class","w-fit pl-1 pr-1 border-r border-neutral-700 bg-[rgb(30,30,30)] text-blue-500");for(let c=0;c<n;c++){const l=document.createElement("li");l.setAttribute("class","h-[21px]"),l.textContent=`000000${g(s+c*s,6)}`.slice(-6).toUpperCase(),t.appendChild(l)}const i=document.createElement("div");for(let c=0;c<n;c++){const l=document.createElement("ul");l.setAttribute("class","flex flex-row space-x-[10px] mx-[6px] h-[21px]");for(let a=0;a<s;a++){const u=document.createElement("li");u.textContent="XX",l.appendChild(u)}i.appendChild(l)}r(c=>{i.querySelectorAll("ul").forEach((l,a)=>{l.querySelectorAll("li").forEach((u,f)=>{u.textContent=g(e[c*s+a*s+f],2)})}),t.querySelectorAll("li").forEach((l,a)=>{l.textContent=`000000${g(c*s+a*s,6)}`.slice(-6).toUpperCase()})}),o.appendChild(t),o.appendChild(i)}function T(o,e,n,s,r){if(o.setAttribute("class",`w-[18px] max-h-[${n*s}px] border-l border-neutral-700 bg-neutral-800`),n<e){const t=document.createElement("div");t.setAttribute("class","w-[calc(18px-1px)] border-none bg-neutral-600 hover:bg-neutral-500");const[i,c]=C(!1),[l,a]=C(0),u=n*s;let f=Math.max(20,Math.floor(u*(n/e)));t.setAttribute("style",`height: ${f}px; margin-top: ${0}px`),l(m=>{t.style.marginTop=`${m}px`}),i(m=>{m?t.setAttribute("class","w-[calc(18px-1px)] border-none bg-[rgb(140,140,140)]"):t.setAttribute("class","w-[calc(18px-1px)] border-none bg-neutral-600 hover:bg-neutral-500")});const d=Symbol();t.addEventListener("mousedown",m=>{const x=m.pageY-t.getBoundingClientRect().top,b=o.getBoundingClientRect().top;c(!0);let h;p.subscribe("mousemove",d,S=>{h&&window.cancelAnimationFrame(h),h=window.requestAnimationFrame(function(){const v=Math.min(u-f,Math.max(0,S.pageY-b-x))/(u-f),A=Math.max(0,Math.floor((e-n)*v)),I=A/(e-n)*(u-f);a(I),r(A)})}),p.subscribe("mouseup",d,()=>{p.unsubscribe("mousemove",d),p.unsubscribe("mouseup",d),p.unsubscribe("blur",d),c(!1)}),p.subscribe("blur",d,()=>{p.unsubscribe("mousemove",d),p.unsubscribe("mouseup",d),p.unsubscribe("blur",d),c(!1)})}),o.appendChild(t)}}document.querySelector("#app").innerHTML=`
<main class="flex flex-col h-screen items-center justify-center bg-[rgb(50,50,50)] text-white">
	<div class="min-h-fit overflow-hidden">
		<div id="hex-editor"></div>
	</div>
</main>
`;L(document.querySelector("#hex-editor"),new Uint8Array(524288).fill(0).map(()=>Math.floor(Math.random()*256)),32);
